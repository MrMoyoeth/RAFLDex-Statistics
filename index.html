<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAFLDex Statistics by SrMessi.eth</title>
    <!-- Add Chart.js library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/web3@1.5.2/dist/web3.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/web3@1.5.2/dist/web3.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>

    <!-- Link the custom CSS file -->
    <link rel="stylesheet" href="styles.css">




</head>
<body>

    <button id="rafldex-button" class="rafldex-button1"><img src="https://www.rafldex.io/_next/static/media/rafldex-banner-logo.c5c4ed98.svg" width="110"></button>
      
    <button id="GHN-button" class="GHN-button1"><img src="ghnicon.png" width="60" height="60"></button>
    <button id="SrB-button" class="SrB-button1" ><img src="banano.png" width="60" height="60">
    </button>

    <button id="connect-button" class="connect-button1"><img src="https://metaschool.so/articles/wp-content/uploads/2022/11/metamaskfox.png" width="10%"></button>


    <h1 class="center-title">RAFLDex Statistics by SrMessi.eth</h1>







   

    

   

    

        <!-- Container for the Buy Entry Txs chart -->
        <div class="chart-container" style="height: 400px;">
            <canvas id="buyEntryChart2"></canvas>
        </div>

         <!-- Add a 3px separation -->
    <div style="height: 3px;"></div>

        <!-- Container for the Tickets Purchased chart -->
    <div class="chart-container" style="height: 400px;">
        <canvas id="buyEntryChart"></canvas>
    </div>

      <!-- Add a 3px separation -->
      <div style="height: 3px;"></div>

     <!-- Container for the Create Raffle chart -->
     <div class="chart-container" style="height: 400px;">
        <canvas id="ethSpentPerDayChart"></canvas>
    </div>

   
    
        <!-- Add a 3px separation -->
        <div style="height: 3px;"></div>

    <!-- Container for the Create Raffle chart -->
    <div class="chart-container" style="height: 400px;">
        <canvas id="createRaffleChart"></canvas>
    </div>

    <!-- Add a 3px separation -->
    <div style="height: 3px;"></div>

    <!-- Container for the Cancel Raffle chart -->
    <div class="chart-container" style="height: 400px;">
        <canvas id="cancelRaffleChart"></canvas>
    </div>

    <!-- Add a 3px separation -->
    <div style="height: 3px;"></div>

    <!-- Container for the BuyEntry Tickets by Month chart -->
    <div class="chart-container" style="height: 400px;">
        <canvas id="buyEntryTicketsByMonthChart"></canvas>
    </div>

 

    <script>




let account;



//Connect Metamask button
document.getElementById('connect-button').addEventListener('click', event => {
            let button = event.target;
            ethereum.request({method: 'eth_requestAccounts'}).then(accounts => {
                account = accounts[0];
               console.log(account);
               button.textContent = account;

                ethereum.request({method: 'eth_getBalance' , params: [account, 'latest']}).then(result => {
                    console.log(result);
                    let wei = parseInt(result,16);
                    let balance = wei / (10**18);
                    console.log(balance + " ETH");
                    
                });
            });
       });



// Add an event listener to the button
document.getElementById('rafldex-button').addEventListener('click', event => {
    // Open the specified URL in a new tab
    window.open("https://www.rafldex.io/", "_blank");
});

// Add an event listener to the button
document.getElementById('GHN-button').addEventListener('click', event => {
    // Open the specified URL in a new tab
    window.open("https://opensea.io/collection/godhatesnftees", "_blank");
});

// Add an event listener to the button
document.getElementById('SrB-button').addEventListener('click', event => {
    // Open the specified URL in a new tab
    window.open("https://opensea.io/collection/srbananos", "_blank");
});






        // Replace with your Etherscan API key
        const etherscanApiKey = 'XI5R9WPV2NGFQQTZ9WQZHMYTCI119GPQT5';

        // Specify the contract addresses
        const contractAddress = '0x08e1bc602c44ecb7932387b6792c3cb0a5c64a92';
        const tokenContractAddress = '0xe6d48bf4ee912235398b96e16db6f310c21e82cb';

        // Function signature of the "buyEntry" function
        const buyEntrySignature = '0xb26a78c5'; // Replace with the actual function signature

        // Function signature of the "cancelRaffle" function
        const cancelRaffleSignature = '0x5fba3171'; // Replace with the actual function signature

        // Function signatures to filter for the new chart
        const createRaffleSignatures = ['0xcf482ee9', '0x01a6e623', '0xead5c7bd'];

        // Construct the Etherscan API URL to fetch transactions
        const apiUrl = `https://api.etherscan.io/api?module=account&action=txlist&address=${contractAddress}&apikey=${etherscanApiKey}`;

        // Construct the Etherscan API URL to fetch token balances
        const tokenApiUrl = `https://api.etherscan.io/api?module=account&action=tokenbalance&contractaddress=${tokenContractAddress}&apikey=${etherscanApiKey}`;
        
        let buyEntryTransactionsByDay = {};
        let buyEntryTicketsByMonth = {};
        let buyEntryGhnHoldersCount = {};
        let buyEntryAhcHoldersCount = {};
        let buyEntryNonHoldersCount = {};
        let buyEntryBAYCHoldersCount = {};
        let buyEntryMAYCHoldersCount = {};
        let buyEntryMGHNHoldersCount = {};
        let buyEntryAKCBHoldersCount = {};
        let buyEntryThePlagueHoldersCount = {};
        let sumsByDay = {};
        let sumsByDayInEther = {};
        let buyEntrySappySealsHoldersCount = {};
        


        // Fetch data from the Etherscan API
        fetch(apiUrl)
            .then((response) => response.json())
            .then((data) => {
                const transactions = data.result;

                // Calculate the offset between local timezone and Etherscan's timezone
                const localTimezoneOffset = new Date().getTimezoneOffset(); // Offset in minutes
                const etherscanTimezoneOffset = 0; // Adjust this offset if needed

                // Function to convert Unix timestamps to the Etherscan timezone
                function convertToEtherscanTimezone(timestamp) {
                    return new Date((timestamp * 1000) + ((localTimezoneOffset - etherscanTimezoneOffset) * 60 * 1000));
                }

                // Function to fetch token balance for an address
                function fetchTokenBalance(address) {
                    return fetch(`${tokenApiUrl}&address=${address}`)
                        .then((response) => response.json())
                        .then((data) => {
                            return data.result;
                        })
                        .catch((error) => {
                            console.error(`Error fetching token balance for address ${address}:`, error);
                            return '0';
                        });
                    }

                    console.log(transactions)


          // Process transactions and sum values per day in ether
transactions.forEach((transaction) => {
  const timestamp = parseInt(transaction.timeStamp);
  const date = new Date(timestamp * 1000); // Convert timestamp to Date object
  const dayKey = date.toISOString().split('T')[0]; // Get the YYYY-MM-DD part as the key

  const valueInWei = parseInt(transaction.value);
  const valueInEther = valueInWei / 1e18; // Convert wei to ether

if (transaction.input.startsWith(buyEntrySignature)) 
if (sumsByDayInEther[dayKey]) {
    sumsByDayInEther[dayKey] += valueInEther;
  } else {
    sumsByDayInEther[dayKey] = valueInEther;
  }
});

console.log('Sums per day in ether:', sumsByDayInEther);

                    

                // Fetch addresses of BuyEntry transactions
                const buyEntryAddresses = transactions
                    .filter((transaction) => transaction.input.startsWith(buyEntrySignature))
                    .map((transaction) => transaction.from.toLowerCase()); // Convert addresses to lowercase for case-insensitive comparison
                
                 

                console.log('Addresses obtained by buyEntrySignature:', buyEntryAddresses);


                                // Process transactions and group by day for BuyEntry chart
                                const buyEntryTransactionsByDay = {};
                transactions.forEach((transaction) => {
                    const timestamp = convertToEtherscanTimezone(parseInt(transaction.timeStamp));
                    const day = `${timestamp.getFullYear()}-${(timestamp.getMonth() + 1).toString().padStart(2, '0')}-${timestamp.getDate().toString().padStart(2, '0')}`;

                    if (transaction.input.startsWith(buyEntrySignature)) {
                        if (buyEntryTransactionsByDay[day]) {
                            buyEntryTransactionsByDay[day]++;
                        } else {
                            buyEntryTransactionsByDay[day] = 1;
                        }
                    }
                });

             

        




                 // Process transactions and sum _numberEntries for BuyEntry chart
    const buyEntryTotalEntriesByDay = {};
    transactions.forEach((transaction) => {
        const timestamp = convertToEtherscanTimezone(parseInt(transaction.timeStamp));
        const day = `${timestamp.getFullYear()}-${(timestamp.getMonth() + 1).toString().padStart(2, '0')}-${timestamp.getDate().toString().padStart(2, '0')}`;

        if (transaction.input.startsWith(buyEntrySignature)) {
            // Decode the input data to get _numberEntries
            const inputData = transaction.input.substring(10); // Remove the function signature
            const web3 = new Web3();
            const decodedData = web3.eth.abi.decodeParameters(['uint256', 'uint256', 'address'], inputData);

            // Extract _numberEntries and sum it up
            const numberEntries = parseInt(decodedData[1]);
            
            if (buyEntryTotalEntriesByDay[day]) {
                buyEntryTotalEntriesByDay[day] += numberEntries;
            } else {
                buyEntryTotalEntriesByDay[day] = numberEntries;
            }
        }
    });

   
                // Process transactions and group by day for CancelRaffle chart
                const cancelRaffleTransactionsByDay = {};
                transactions.forEach((transaction) => {
                    const timestamp = convertToEtherscanTimezone(parseInt(transaction.timeStamp));
                    const day = `${timestamp.getFullYear()}-${(timestamp.getMonth() + 1).toString().padStart(2, '0')}-${timestamp.getDate().toString().padStart(2, '0')}`;

                    if (transaction.input.startsWith(cancelRaffleSignature)) {
                        if (cancelRaffleTransactionsByDay[day]) {
                            cancelRaffleTransactionsByDay[day]++;
                        } else {
                            cancelRaffleTransactionsByDay[day] = 1;
                        }
                    }
                });

                // Process transactions and group by day for CreateRaffle chart
                const createRaffleTransactionsByDay = {};
                transactions.forEach((transaction) => {
                    const timestamp = convertToEtherscanTimezone(parseInt(transaction.timeStamp));
                    const day = `${timestamp.getFullYear()}-${(timestamp.getMonth() + 1).toString().padStart(2, '0')}-${timestamp.getDate().toString().padStart(2, '0')}`;

                    if (createRaffleSignatures.some((signature) => transaction.input.includes(signature))) {
                        if (createRaffleTransactionsByDay[day]) {
                            createRaffleTransactionsByDay[day]++;
                        } else {
                            createRaffleTransactionsByDay[day] = 1;
                        }
                    }
                });

// Load and parse the CSV file
fetch('ghn.csv')
    .then((response) => response.text())
    .then((csvData) => {
        // Use PapaParse to parse the CSV data
        Papa.parse(csvData, {
            header: true, // Treat the first row as headers
            dynamicTyping: true, // Parse numbers as numbers
            skipEmptyLines: true, // Skip empty lines
            complete: function (results) {
                console.log('CSV Data:', results.data);

                // Create sets for GHN, AHC, and BAYC addresses
                const ghnAddresses = new Set();
                const ahcAddresses = new Set();
                const baycAddresses = new Set();
                const maycAddresses = new Set();
                const mghnAddresses = new Set();
                const akcbAddresses = new Set();
                const theplagueAddresses = new Set();
                const ssAddresses = new Set ();

                results.data.forEach((row) => {
                    const ghnAddress = row['GHNHolderAddress']?.substring(0, 42)?.toLowerCase();
                    const ahcAddress = row['AHCHolderAddress']?.substring(0, 42)?.toLowerCase();
                    const baycAddress = row['BAYCHolderAddress']?.substring(0, 42)?.toLowerCase();
                    const maycAddress = row['MAYCHolderAddress']?.substring(0, 42)?.toLowerCase();
                    const mghnAddress = row['MGHNHolderAddress']?.substring(0, 42)?.toLowerCase();
                    const akcbAddress = row['AKCBHolderAddress']?.substring(0, 42)?.toLowerCase();
                    const theplagueAddress = row['ThePlagueHolderAddress']?.substring(0, 42)?.toLowerCase();
                    const ssAddress = row['SSHolderAddress']?.substring(0, 42)?.toLowerCase();
                    if (ghnAddress) {
                        ghnAddresses.add(ghnAddress);
                        console.log(`Extracted GHN Address: ${ghnAddress}`);
                    }
                    if (ahcAddress) {
                        ahcAddresses.add(ahcAddress);
                        console.log(`Extracted AHC Address: ${ahcAddress}`);
                    }

                    if (baycAddress) {
                        baycAddresses.add(baycAddress);
                        console.log(`Extracted BAYC Address: ${baycAddress}`);
                    }
                    if (maycAddress) {
                        maycAddresses.add(maycAddress);
                        console.log(`Extracted MAYC Address: ${maycAddress}`);
                    }

                    if (mghnAddress) {
                        mghnAddresses.add(mghnAddress);
                        console.log(`Extracted MAYC Address: ${mghnAddress}`);
                    }

                    if (akcbAddress) {
                        akcbAddresses.add(akcbAddress);
                        console.log(`Extracted AKCB Address: ${akcbAddress}`);
                    }

                    if (theplagueAddress) {
                        theplagueAddresses.add(theplagueAddress);
                        console.log(`Extracted The Plague Address: ${theplagueAddress}`);
                    }

                        if (ssAddress) {
                        ssAddresses.add(ssAddress);
                        console.log(`Extracted The Plague Address: ${ssAddress}`);
                    }

                    
                });

                transactions.forEach((transaction) => {
                    const timestamp = convertToEtherscanTimezone(parseInt(transaction.timeStamp));
                    const month = `${timestamp.getFullYear()}-${(timestamp.getMonth() + 1).toString().padStart(2, '0')}`;

                    if (transaction.input.startsWith(buyEntrySignature)) {
                        const address = transaction.from.toLowerCase();
                        const isGHN = ghnAddresses.has(address);
                        const isAHC = ahcAddresses.has(address);
                        const isBAYC = baycAddresses.has(address);
                        const isMAYC = maycAddresses.has(address);
                        const isMGHN = mghnAddresses.has(address);
                        const isAKCB = akcbAddresses.has(address);
                        const isThePlague = theplagueAddresses.has(address);
                        const isSS = ssAddresses.has(address);
                        

                        if (isGHN) {
                            // Initialize the count for this month if it doesn't exist
                            if (!buyEntryGhnHoldersCount[month]) {
                                buyEntryGhnHoldersCount[month] = 0;
                            }
                            buyEntryGhnHoldersCount[month]++; // Increment the count for this month
                            console.log(`Address: ${address} is a GodHatesNFTees Holder`);
                        } 

                        if (isAHC) {
                            // Initialize the count for this month if it doesn't exist
                            if (!buyEntryAhcHoldersCount[month]) {
                                buyEntryAhcHoldersCount[month] = 0;
                            }
                            buyEntryAhcHoldersCount[month]++; // Increment the count for this month
                            console.log(`Address: ${address} is an ApeHaterClub Holder`);
                        } 


                        if (isBAYC) {
                            // Initialize the count for this month if it doesn't exist
                            if (!buyEntryBAYCHoldersCount[month]) {
                                buyEntryBAYCHoldersCount[month] = 0;
                            }
                            buyEntryBAYCHoldersCount[month]++; // Increment the count for this month
                            console.log(`Address: ${address} is a BAYC Holder`);
                        } 

                        if (isMAYC) {
                            // Initialize the count for this month if it doesn't exist
                            if (!buyEntryMAYCHoldersCount[month]) {
                                buyEntryMAYCHoldersCount[month] = 0;
                            }
                            buyEntryMAYCHoldersCount[month]++; // Increment the count for this month
                            console.log(`Address: ${address} is a MAYC Holder`);
                        } 
                        if (isMGHN) {
                            // Initialize the count for this month if it doesn't exist
                            if (!buyEntryMGHNHoldersCount[month]) {
                                buyEntryMGHNHoldersCount[month] = 0;
                            }
                            buyEntryMGHNHoldersCount[month]++; // Increment the count for this month
                            console.log(`Address: ${address} is a MGHN Holder`);
                        } 
                     
                        if (isAKCB) {
                            // Initialize the count for this month if it doesn't exist
                            if (!buyEntryAKCBHoldersCount[month]) {
                                buyEntryAKCBHoldersCount[month] = 0;
                            }
                            buyEntryAKCBHoldersCount[month]++; // Increment the count for this month
                            console.log(`Address: ${address} is a AKCB Holder`);
                        } 
                        if (isThePlague) {
                            // Initialize the count for this month if it doesn't exist
                            if (!buyEntryThePlagueHoldersCount[month]) {
                                buyEntryThePlagueHoldersCount[month] = 0;
                            }
                            buyEntryThePlagueHoldersCount[month]++; // Increment the count for this month
                            console.log(`Address: ${address} is a The Plague Holder`);
                        } 

                        if (isSS) {
                            // Initialize the count for this month if it doesn't exist
                            if (!buyEntrySappySealsHoldersCount[month]) {
                                buyEntrySappySealsHoldersCount[month] = 0;
                            }
                            buyEntrySappySealsHoldersCount[month]++; // Increment the count for this month
                            console.log(`Address: ${address} is a Sappy Seals Holder`);
                        } 
                     
                                                
                    }

                 

                    // Increment the buyEntryTicketsByMonth count for this month
                    if (!buyEntryTicketsByMonth[month]) {
                        buyEntryTicketsByMonth[month] = 0;
                    }
                    buyEntryTicketsByMonth[month]++;
                });

                console.log('buyEntryTicketsByMonth:', buyEntryTicketsByMonth);
                console.log('buyEntryGhnHoldersCount:', buyEntryGhnHoldersCount);
                console.log('buyEntryAhcHoldersCount:', buyEntryAhcHoldersCount);
                console.log('buyEntryNonHoldersCount:', buyEntryNonHoldersCount);
                console.log('buyEntryBAYCHoldersCount:', buyEntryBAYCHoldersCount);
                console.log('buyEntryMAYCHoldersCount:', buyEntryMAYCHoldersCount);
                console.log('buyEntryMGHNHoldersCount:', buyEntryMGHNHoldersCount);
                console.log('buyEntryAKCBHoldersCount:', buyEntryAKCBHoldersCount);
                console.log('buyEntryThePlagueHoldersCount:', buyEntryThePlagueHoldersCount);
                 console.log('buyEntrySappySealsHoldersCount:', buyEntrySappySealsHoldersCount);

                
                // Create BuyEntry Transactions by Day Chart
const buyEntryTransactionsByDayCtx = document.getElementById('buyEntryChart').getContext('2d');
new Chart(buyEntryTransactionsByDayCtx, {
    type: 'bar',
    data: {
        labels: Object.keys(buyEntryTotalEntriesByDay),
        datasets: [
            {
                label: 'Tickets Purchased',
                data: Object.keys(buyEntryTotalEntriesByDay).map((day) => buyEntryTotalEntriesByDay[day] || 0),
                backgroundColor: 'rgba(75, 192, 75, 0.2)',
                borderColor: 'rgba(75, 192, 75, 1)',
                borderWidth: 1
            }
        ]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
            x: {
                type: 'category',
                title: {
                    display: true,
                    text: 'Day'
                }
            },
            y: {
                beginAtZero: true,
                title: {
                    display: true,
                    text: 'Entries'
                }
            }
        }
        },
    })



// Create CancelRaffle Transactions by Day Chart if the canvas element exists
const cancelRaffleTransactionsByDayCanvas = document.getElementById('cancelRaffleChart');
if (cancelRaffleTransactionsByDayCanvas) {
    const cancelRaffleTransactionsByDayCtx = cancelRaffleTransactionsByDayCanvas.getContext('2d');
    new Chart(cancelRaffleTransactionsByDayCtx, {
        type: 'bar',
        data: {
            labels: Object.keys(cancelRaffleTransactionsByDay),
            datasets: [
                {
                    label: 'CancelRaffle Transactions',
                    data: Object.keys(cancelRaffleTransactionsByDay).map((day) => cancelRaffleTransactionsByDay[day] || 0),
                    backgroundColor: 'rgba(255, 99, 132, 0.2)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                x: {
                    type: 'category',
                    title: {
                        display: true,
                        text: 'Day'
                    }
                },
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Transactions'
                    }
                }
            },
         
    }
        })
    
} else {
    console.error('Canvas element for CancelRaffle Transactions by Day Chart not found.');
}


// Create CreateRaffle Transactions by Day Chart if the canvas element exists
const createRaffleTransactionsByDayCanvas = document.getElementById('createRaffleChart');
if (createRaffleTransactionsByDayCanvas) {
    const createRaffleTransactionsByDayCtx = createRaffleTransactionsByDayCanvas.getContext('2d');
    new Chart(createRaffleTransactionsByDayCtx, {
        type: 'bar',
        data: {
            labels: Object.keys(createRaffleTransactionsByDay),
            datasets: [
                {
                    label: 'CreateRaffle Transactions',
                    data: Object.keys(createRaffleTransactionsByDay).map((day) => createRaffleTransactionsByDay[day] || 0),
                    backgroundColor: 'rgba(255, 206, 86, 0.2)',
                    borderColor: 'rgba(255, 206, 86, 1)',
                    borderWidth: 1
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                x: {
                    type: 'category',
                    title: {
                        display: true,
                        text: 'Day'
                    }
                },
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Transactions'
                    }
                }
            },
            }        
    })
} else {
    console.error('Canvas element for CreateRaffle Transactions by Day Chart not found.');
}

 // Create BuyEntry Transactions by Day Chart
 const buyEntryTransactionsByDayCtxs = document.getElementById('buyEntryChart2').getContext('2d');
new Chart(buyEntryTransactionsByDayCtxs, {
    type: 'bar',
    data: {
        labels: Object.keys(buyEntryTransactionsByDay),
        datasets: [
            {
                label: 'BuyEntry Transactions',
                data: Object.keys(buyEntryTransactionsByDay).map((day) => buyEntryTransactionsByDay[day] || 0),
                backgroundColor: 'rgba(98, 255, 149, 0.8)',
                borderColor: 'rgba(98, 255, 149, 0.8)',
                borderWidth: 1
            }
        ]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
            x: {
                type: 'category',
                title: {
                    display: true,
                    text: 'Day'
                }
            },
            y: {
                beginAtZero: true,
                title: {
                    display: true,
                    text: 'Transactions'
                }
            }
        },

         }
});
            

 // Create ETH Spended by Day Chart
 const buyEntryValueByDayCtxs = document.getElementById('ethSpentPerDayChart').getContext('2d');
new Chart(buyEntryValueByDayCtxs, {
    type: 'bar',
    data: {
        labels: Object.keys(sumsByDayInEther),
        datasets: [
            {
                label: 'ETH Spended on Tickets',
                data: Object.keys(sumsByDayInEther).map((day) => sumsByDayInEther[day] || 0),
                backgroundColor: 'rgba(99, 98, 255, 0.8)',
                borderColor: 'rgba(99, 98, 255, 0.8)',
                borderWidth: 1
            }
        ]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
            x: {
                type: 'category',
                title: {
                    display: true,
                    text: 'Day'
                }
            },
            y: {
                beginAtZero: true,
                title: {
                    display: true,
                    text: 'Transactions'
                }
            }
        },

         }
});

                               // Create BuyEntry Tickets by Month Chart
                               
const buyEntryTicketsByMonthCtx = document.getElementById('buyEntryTicketsByMonthChart').getContext('2d');
new Chart(buyEntryTicketsByMonthCtx, {
    type: 'bar',
    data: {
        labels: Object.keys(buyEntryTicketsByMonth),
        datasets: [
            {
                label: 'GodHatesNFTees Holders',
                data: Object.keys(buyEntryTicketsByMonth).map((month) => buyEntryGhnHoldersCount[month] || 0),
                backgroundColor: 'rgba(58, 39, 245, 0.8)',
                borderColor: 'rgba(58, 39, 245, 0.8)',
                borderWidth: 1
            },
            {
                label: 'ApeHaterClub Holders',
                data: Object.keys(buyEntryTicketsByMonth).map((month) => buyEntryAhcHoldersCount[month] || 0),
                backgroundColor: 'rgba(39, 245, 230, 0.8)',
                borderColor: 'rgba(39, 245, 230, 0.8)',
                borderWidth: 1
            },
            {
                label: 'BAYC Holders',
                data: Object.keys(buyEntryTicketsByMonth).map((month) => buyEntryBAYCHoldersCount[month] || 0),
                backgroundColor: 'rgba(245, 67, 39, 0.8)',
                borderColor: 'rgba(245, 67, 39, 0.8)',
                borderWidth: 1
            },

            {
                label: 'MAYC Holders',
                data: Object.keys(buyEntryTicketsByMonth).map((month) => buyEntryMAYCHoldersCount[month] || 0),
                backgroundColor: 'rgba(187, 245, 39, 0.8)',
                borderColor: 'rgba(187, 245, 39, 0.8)',
                borderWidth: 1  
            },


            {
                label: 'MGHN Holders',
                data: Object.keys(buyEntryTicketsByMonth).map((month) => buyEntryMGHNHoldersCount[month] || 0),
                backgroundColor: 'rgba(153, 151, 27, 0.8))',
                borderColor: 'rgba(153, 151, 27, 0.8)',
                borderWidth: 1  
            },

            {
                label: 'AKCB Holders',
                data: Object.keys(buyEntryTicketsByMonth).map((month) => buyEntryAKCBHoldersCount[month] || 0),
                backgroundColor: 'rgba(140, 19, 88, 0.8)',
                borderColor: 'rgba(140, 19, 88, 0.8)',
                borderWidth: 1  
            },

            {
                label: 'The Plague Holders',
                data: Object.keys(buyEntryTicketsByMonth).map((month) => buyEntryThePlagueHoldersCount[month] || 0),
                backgroundColor: 'rgba(72, 251, 62, 0.8)',
                borderColor: 'rgba(72, 251, 62, 0.8)',
                borderWidth: 1  
            },

            {
                label: 'SappySeals',
                data: Object.keys(buyEntryTicketsByMonth).map((month) => buyEntrySappySealsHoldersCount[month] || 0),
                backgroundColor: 'rgba(201, 128, 0, 0.8)',
                borderColor: 'rgba(201, 128, 0, 0.8)',
                borderWidth: 1  
            },
                ]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
            x: {
                type: 'category',
                title: {
                    display: true,
                    text: 'Month'
                }
            },
            y: {
                beginAtZero: true,
                title: {
                    display: true,
                    text: 'Txs'
                }
            }
        },
   
    }
    
});  




},



                            error: function (error) {
                                console.error('Error parsing CSV:', error);
                            },
                        });
                    })
                    .catch((error) => {
                        console.error('Error loading CSV file:', error);
                    });
            })
            .catch((error) => {
                console.error('Error fetching data from Etherscan:', error);
            });

          





    </script>

    <img class="img1" src="messithor.gif" alt="250px" >


</body>
</html>
